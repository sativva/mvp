<a name="pagecontent" id="pagecontent"></a>


<div class="section clearfix">
  <div class="six columns offset-by-five">
    <h1 class="new_head">{{ 'customer.register.title' | t }}</h1>
    <p>Remplissez lâ€™ensemble des champs</p>
    <div class="feature_divider"></div>

    <div id="customer">
      <!-- Create Customer -->
      <div id="create-customer">

        {% form 'create_customer', class: "newform" %}
          {{ form.errors | default_errors }}

          <div id="first_name" class="clearfix large_form">
            <input type="text" value="" name="customer[first_name]" id="first_name" class="large first_input" size="30" placeholder="{{ 'customer.register.first_name' | t }}" />
          </div>

          <div id="last_name" class="clearfix large_form">
            <input type="text" value="" name="customer[last_name]" id="last_name" class="large" size="30" placeholder="{{ 'customer.register.last_name' | t }}" />
          </div>

          <div id="email" class="clearfix large_form">
            <input type="email" value="" name="customer[email]" id="email" class="large last_input" size="30" placeholder="{{ 'customer.register.email' | t }}" />
          </div>

          <div id="password" class="clearfix large_form">
            <input type="password" value="" name="customer[password]" id="password_i" class="large password first_input" size="30" placeholder="{{ 'customer.register.password' | t }}" required />
          </div>
          <div id="confirm_password" class="clearfix large_form">
            <input type="password" id="confirm_password_i" class="large password last_input" size="30" placeholder="{{ 'customer.register.password' | t }}" required />
          </div>

          {% if section.settings.text %}
            {{ section.settings.text }}
          {% endif %}

          <div class="acceptsMarketing">
            <!-- <input type="checkbox" id="customer[accepts_marketing]" name="customer[accepts_marketing]"> -->

          <div class="group_toggle">
              <label for="customer[accepts_marketing]">
                <div class="switch">
                  <input type="checkbox" id="customer[accepts_marketing]" name="customer[accepts_marketing]">
                  <span class="toggle_check round"></span>
                </div>

                <div class="label">
                {{ 'customer.register.accepts_marketing' | t }}</div></label><br>




          </div>


            {% comment %}<a href="/pages/conditions-generales-de-vente">Voir nos CGV</a>{% endcomment %}
          </div>

          <div class="action_bottom">
            <input class="btn action_button" type="submit" value="{{ 'customer.register.sign_up' | t }}" />
            <a href="/account/login" class="action_button new_secondary_btn">M'IDENTIFIER</a>


          </div>

        {% endform %}
      </div><!-- /#create-customer -->
    </div>
  </div>
</div>

<script>
  var password = document.getElementById("password_i")
    , confirm_password = document.getElementById("confirm_password_i");

  function validatePassword(){
    if(password.value != confirm_password.value) {
      confirm_password.setCustomValidity("Les mots de passe ne correspondent pas");
    } else {
      confirm_password.setCustomValidity('');
    }
  }

  password.onchange = validatePassword;
  confirm_password.onkeyup = validatePassword;
</script>

{% schema %}
  {
    "name": "Register",
    "class": "register-section",
    "settings": [
      {
        "type": "richtext",
        "id": "text",
        "label": "Text"
      }
    ]
  }
{% endschema %}
